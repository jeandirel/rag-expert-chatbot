# =============================================================
# RAG Expert Chatbot — Configuration
# Copier ce fichier : cp .env.example .env
# =============================================================

# ── LLM Provider ──────────────────────────────────────────────
# Choisir UN provider : ollama | groq | gemini | openai

LLM_PROVIDER=ollama

# Option A : Ollama (local, 100% gratuit et privé)
OLLAMA_BASE_URL=http://localhost:11434
LLM_MODEL=mistral
EMBEDDING_MODEL=nomic-embed-text

# Option B : Groq (gratuit, ultra-rapide)
# LLM_PROVIDER=groq
# GROQ_API_KEY=gsk_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
# LLM_MODEL=llama-3.3-70b-versatile

# Option C : Google Gemini (1M tokens/jour gratuit)
# LLM_PROVIDER=gemini
# GOOGLE_API_KEY=AIzaSyxxxxxxxxxxxxxxxxxxxxxxxx
# LLM_MODEL=gemini-1.5-flash

# Option D : OpenAI (payant)
# LLM_PROVIDER=openai
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# LLM_MODEL=gpt-4o

# ── Base vectorielle Qdrant ────────────────────────────────────
QDRANT_HOST=localhost
QDRANT_PORT=6333
COLLECTION_NAME=rag_expert

# ── Base de données PostgreSQL ─────────────────────────────────
POSTGRES_DB=chatbot_db
POSTGRES_USER=admin
POSTGRES_PASSWORD=changez_ce_mot_de_passe
DATABASE_URL=postgresql+asyncpg://admin:changez_ce_mot_de_passe@localhost:5432/chatbot_db

# ── Cache Redis ────────────────────────────────────────────────
REDIS_URL=redis://localhost:6379/0
REDIS_SESSION_TTL=7200
REDIS_CACHE_TTL=3600

# ── Authentification SSO (Keycloak) ───────────────────────────
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=chatbot-realm
KEYCLOAK_CLIENT_ID=chatbot-app
KEYCLOAK_CLIENT_SECRET=changez_ce_secret_en_production

# ── Paramètres RAG ────────────────────────────────────────────
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TOP_K_RESULTS=6
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=2000
CONVERSATION_HISTORY_LENGTH=10

# ── Sécurité ─────────────────────────────────────────────────
SECRET_KEY=changez-cette-cle-en-production-minimum-32-caracteres
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ── SharePoint (optionnel) ────────────────────────────────────
SHAREPOINT_ENABLED=false
SHAREPOINT_URL=https://VOTRE_TENANT.sharepoint.com
SHAREPOINT_SITE=/sites/VOTRE_SITE
SHAREPOINT_USER=votre_utilisateur@company.com
SHAREPOINT_PASSWORD=votre_mot_de_passe
SHAREPOINT_LIBRARY=Documents
SHAREPOINT_SYNC_FOLDER=./documents/sharepoint
SYNC_INTERVAL_HOURS=4

# Webhooks Graph API (temps réel)
GRAPH_TENANT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
GRAPH_CLIENT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
GRAPH_CLIENT_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
WEBHOOK_NOTIFICATION_URL=https://votre-domaine.com/api/v1/webhooks/sharepoint

# ── Microsoft Teams Bot (optionnel) ───────────────────────────
TEAMS_BOT_ENABLED=false
TEAMS_APP_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
TEAMS_APP_PASSWORD=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
BOT_ENDPOINT=http://localhost:3978/api/messages

# ── Documents locaux ─────────────────────────────────────────
DOCUMENTS_FOLDER=./documents
SUPPORTED_EXTENSIONS=.pdf,.docx,.doc,.xlsx,.xls,.pptx,.ppt,.txt,.md,.html,.msg,.eml

# ── Monitoring ───────────────────────────────────────────────
PROMETHEUS_ENABLED=true
LOG_LEVEL=INFO

# ── Docker (utilisé par docker-compose.yml) ───────────────────
COMPOSE_PROJECT_NAME=rag-expert-chatbot
BACKEND_PORT=8000
FRONTEND_PORT=3000
KEYCLOAK_PORT=8080
GRAFANA_PORT=3001
QDRANT_PORT_DASHBOARD=6333
